<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>For Mitthi ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(180deg, #ffd6e8, #fff);
  overflow: hidden;
}

/* ---------------- SCREENS ---------------- */
.screen {
  display: none;
  width: 100vw;
  height: 100vh;
  text-align: center;
}

.active {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

h1 {
  font-family: 'Pacifico', cursive;
  font-size: 3rem;
  margin-bottom: 20px;
}

/* ---------------- BUTTONS ---------------- */
button {
  padding: 12px 30px;
  border-radius: 30px;
  border: none;
  background: #ff5a8a;
  color: white;
  font-size: 1.1rem;
  cursor: pointer;
}

button:hover {
  background: #ff3f78;
}

/* ---------------- QUESTION PAGE ---------------- */
#noBtn {
  position: absolute;
}

/* ---------------- TRANSITION GIF ---------------- */
.transition-gif {
  width: 260px;
  margin-top: 20px;
}

/* ---------------- GAME 1 ---------------- */
.heart {
  position: absolute;
  font-size: 60px;
  cursor: pointer;
}

.compliment {
  position: fixed;
  bottom: 20%;
  background: white;
  padding: 12px 20px;
  border-radius: 20px;
  font-size: 1.4rem;
  animation: fadeOut 2s forwards;
}

@keyframes fadeOut {
  to { opacity: 0; }
}

/* ---------------- GAME 2 (MAZE) ---------------- */
#maze-wrapper {
  width: 100vw;
  height: 100vh;
  background: #111;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

#maze {
  position: relative;
  width: 600px;
  height: 400px;
  background: #000;
}

/* Walkable path */
.path {
  position: absolute;
  background: #4caf50;
}

/* Walls */
.wall {
  position: absolute;
  background: #444;
}

/* Characters */
.character {
  position: absolute;
  font-size: 32px;
  z-index: 5;
}

/* Controls */
.controls {
  margin-top: 15px;
}

.controls button {
  margin: 5px;
  width: 60px;
  height: 50px;
}
</style>
</head>

<body>

<!-- ---------------- PAGE 1 ---------------- -->
<div id="start" class="screen active">
  <h1>Hey Mitthi üíó</h1>
  <p style="font-size:1.2rem;margin-bottom:20px;">I made something just for you</p>
  <button onclick="showScreen('question')">Start</button>
</div>

<!-- ---------------- PAGE 2 ---------------- -->
<div id="question" class="screen">
  <h1>Will you be my Valentine? üíñ</h1>
  <div style="margin-top:20px;">
    <button onclick="showScreen('transition1')">YES</button>
    <button id="noBtn">NO</button>
  </div>
  <img class="transition-gif" src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif">
</div>

<!-- ---------------- TRANSITION 1 ---------------- -->
<div id="transition1" class="screen">
  <h1>Wait‚Ä¶ I prepared something special üò≥</h1>
  <img class="transition-gif" src="https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif">
</div>

<!-- ---------------- GAME 1 ---------------- -->
<div id="game1" class="screen">
  <h1>Collect My Hearts üíï</h1>
</div>

<!-- ---------------- TRANSITION 2 ---------------- -->
<div id="transition2" class="screen">
  <h1>Now‚Ä¶ come to me ‚ù§Ô∏è</h1>
  <img class="transition-gif" src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif">
</div>

<!-- ---------------- GAME 2 ---------------- -->
<div id="game2" class="screen">
  <div id="maze-wrapper">
    <h1 style="color:white;margin-bottom:10px;">Find Krishna üíë</h1>

    <div id="maze">
      <!-- PATH -->
      <div class="path" style="top:40px;left:40px;width:200px;height:40px;"></div>
      <div class="path" style="top:40px;left:200px;width:40px;height:200px;"></div>
      <div class="path" style="top:200px;left:200px;width:240px;height:40px;"></div>

      <!-- WALLS -->
      <div class="wall" style="top:0;left:0;width:600px;height:40px;"></div>
      <div class="wall" style="top:0;left:0;width:40px;height:400px;"></div>
      <div class="wall" style="top:360px;left:0;width:600px;height:40px;"></div>
      <div class="wall" style="top:0;left:560px;width:40px;height:400px;"></div>

      <!-- CHARACTERS -->
      <div id="girl" class="character" style="top:50px;left:50px;">üë©</div>
      <div id="boy" class="character" style="top:210px;left:420px;">üßë</div>
    </div>

    <div class="controls">
      <button onclick="move(0,-10)">‚¨ÜÔ∏è</button><br>
      <button onclick="move(-10,0)">‚¨ÖÔ∏è</button>
      <button onclick="move(10,0)">‚û°Ô∏è</button><br>
      <button onclick="move(0,10)">‚¨áÔ∏è</button>
    </div>
  </div>
</div>

<script>
// ---------- SCREEN CONTROLLER ----------
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');

  if (id === 'transition1') {
    setTimeout(() => {
      showScreen('game1');
      startHearts();
    }, 3000);
  }

  if (id === 'transition2') {
    setTimeout(() => showScreen('game2'), 3000);
  }
}

// ---------- FLOATING NO ----------
const noBtn = document.getElementById('noBtn');
noBtn.onmouseover = () => {
  noBtn.style.top = Math.random() * 80 + '%';
  noBtn.style.left = Math.random() * 80 + '%';
};

// ---------- GAME 1 ----------
const compliments = [
  "You‚Äôre my favorite thought ‚ù§Ô∏è",
  "Your smile wins üòç",
  "I choose you üíï",
  "You feel like home üè°",
  "Still you üíñ",
  "Lucky me üå∏",
  "You calm my heart üíó",
  "Always us üí´",
  "Just you üòò",
  "Completed ‚ù§Ô∏è"
];

let heartIndex = 0;

function startHearts() {
  heartIndex = 0;
  spawnHeart();
}

function spawnHeart() {
  if (heartIndex >= 10) {
    setTimeout(() => showScreen('transition2'), 1200);
    return;
  }

  const h = document.createElement('div');
  h.className = 'heart';
  h.innerText = '‚ù§Ô∏è';
  h.style.top = Math.random() * 70 + '%';
  h.style.left = Math.random() * 70 + '%';

  h.onclick = () => {
    h.remove();
    showCompliment(compliments[heartIndex]);
    heartIndex++;
    setTimeout(spawnHeart, 1200);
  };

  document.getElementById('game1').appendChild(h);
}

function showCompliment(text) {
  const c = document.createElement('div');
  c.className = 'compliment';
  c.innerText = text;
  document.body.appendChild(c);
  setTimeout(() => c.remove(), 2000);
}

// ---------- GAME 2 COLLISION ----------
function isOnPath(x, y) {
  const paths = document.querySelectorAll('.path');
  for (let p of paths) {
    const r = p.getBoundingClientRect();
    if (x > r.left && x < r.right && y > r.top && y < r.bottom) {
      return true;
    }
  }
  return false;
}

function move(dx, dy) {
  const girl = document.getElementById('girl');
  const maze = document.getElementById('maze').getBoundingClientRect();

  const newX = girl.offsetLeft + dx;
  const newY = girl.offsetTop + dy;

  const centerX = maze.left + newX + 16;
  const centerY = maze.top + newY + 16;

  if (!isOnPath(centerX, centerY)) return;

  girl.style.left = newX + 'px';
  girl.style.top = newY + 'px';

  const boy = document.getElementById('boy');
  if (Math.abs(newX - boy.offsetLeft) < 20 &&
      Math.abs(newY - boy.offsetTop) < 20) {
    alert("You found me ‚ù§Ô∏è");
  }
}
</script>

</body>
</html>
